<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	
	<Operation Class="PatchOperationFindMod">
    <mods>
		<li>Not Only just a cannon</li>
    </mods>
		<match Class="PatchOperationSequence">
		<operations>
			
			
			
        <li Class="CombatExtended.PatchOperationMakeGunCECompatible">
          <defName>Weapon_Cannon</defName>

          <statBases>
			  <SightsEfficiency>1</SightsEfficiency>
			  <ShotSpread>0.05</ShotSpread>
			  <SwayFactor>1.34</SwayFactor>
			  <RangedWeapon_Cooldown>2.71</RangedWeapon_Cooldown>
          </statBases>

          <Properties>
            <recoilAmount>1.52</recoilAmount>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>True</hasStandardCommand>
            <defaultProjectile>Bullet_164mmCannonShell_HE</defaultProjectile>
			<burstShotCount />
            <warmupTime>5</warmupTime>
			<requireLineOfSight>true</requireLineOfSight>
            <range>86</range>
			<soundCast>MortarBomb_Explode</soundCast>
			<muzzleFlashScale>32</muzzleFlashScale>
			<targetParams>
			  <canTargetLocations>true</canTargetLocations>
			</targetParams>
            <recoilPattern>Mounted</recoilPattern>
          </Properties>

          <AmmoUser>
            <magazineSize>1</magazineSize>
            <reloadTime>15</reloadTime>
            <ammoSet>AmmoSet_164mmCannonBall</ammoSet>
          </AmmoUser>

          <FireModes>
			<aiUseBurstMode>FALSE</aiUseBurstMode>
			<aiAimMode>AimedShot</aiAimMode>
			<noSnapshot>true</noSnapshot>
			<noSingleShot>true</noSingleShot>
          </FireModes>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="Turret_Cannon"]</xpath>
          <value>
            <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
          </value>
        </li>

		
        <li Class="PatchOperationRemove">
          <xpath>/Defs/ThingDef[defName="Weapon_Cannon"]/comps/li[@Class="CompProperties_ChangeableProjectile"]</xpath>
        </li>
		
        <li Class="PatchOperationRemove">
          <xpath>/Defs/ThingDef[defName="Weapon_Cannon"]/building</xpath>
        </li>
		
		
        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="Turret_Cannon"]</xpath>
          <value>
            <fillPercent>0.85</fillPercent>
          </value>
        </li>
		
		
        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="Turret_Cannon"]/building/turretBurstCooldownTime</xpath>
          <value>
            <turretBurstCooldownTime>1</turretBurstCooldownTime>
          </value>
        </li>
		
		
        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="Turret_Cannon"]/statBases</xpath>
          <value>
            <ShootingAccuracyTurret>1</ShootingAccuracyTurret>
          </value>
        </li>
		
		
		
		</operations>
		</match>
	</Operation>
	
</Patch>